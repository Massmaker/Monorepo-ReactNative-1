import _toConsumableArray from"@babel/runtime/helpers/toConsumableArray";import _defineProperty from"@babel/runtime/helpers/defineProperty";import _extends from"@babel/runtime/helpers/extends";import _classCallCheck from"@babel/runtime/helpers/classCallCheck";import _createClass from"@babel/runtime/helpers/createClass";import _possibleConstructorReturn from"@babel/runtime/helpers/possibleConstructorReturn";import _getPrototypeOf from"@babel/runtime/helpers/getPrototypeOf";import _inherits from"@babel/runtime/helpers/inherits";var _jsxFileName="/Users/satya/Workspace/Projects/navigation-ex/packages/bottom-tabs/src/views/BottomTabView.tsx";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}import*as React from'react';import{View,StyleSheet}from'react-native';import{useTheme}from'@react-navigation/native';import{ScreenContainer}from'react-native-screens';import SafeAreaProviderCompat from'./SafeAreaProviderCompat';import ResourceSavingScene from'./ResourceSavingScene';import BottomTabBar from'./BottomTabBar';function SceneContent(_ref){var isFocused=_ref.isFocused,children=_ref.children;var _useTheme=useTheme(),colors=_useTheme.colors;return React.createElement(View,{accessibilityElementsHidden:!isFocused,importantForAccessibility:isFocused?'auto':'no-hide-descendants',style:[styles.content,{backgroundColor:colors.background}],__source:{fileName:_jsxFileName,lineNumber:39}},children);}var BottomTabView=function(_React$Component){_inherits(BottomTabView,_React$Component);function BottomTabView(){var _getPrototypeOf2;var _this;_classCallCheck(this,BottomTabView);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(BottomTabView)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={loaded:[_this.props.state.index]};_this.renderTabBar=function(){var _this$props=_this.props,_this$props$tabBar=_this$props.tabBar,tabBar=_this$props$tabBar===void 0?function(props){return React.createElement(BottomTabBar,_extends({},props,{__source:{fileName:_jsxFileName,lineNumber:71}}));}:_this$props$tabBar,tabBarOptions=_this$props.tabBarOptions,state=_this$props.state,navigation=_this$props.navigation;var descriptors=_this.props.descriptors;var route=state.routes[state.index];var descriptor=descriptors[route.key];var options=descriptor.options;if(options.tabBarVisible===false){return null;}return tabBar(_objectSpread({},tabBarOptions,{state:state,descriptors:descriptors,navigation:navigation}));};return _this;}_createClass(BottomTabView,[{key:"render",value:function render(){var _this$props2=this.props,state=_this$props2.state,descriptors=_this$props2.descriptors,lazy=_this$props2.lazy,unmountInactiveScreens=_this$props2.unmountInactiveScreens;var routes=state.routes;var loaded=this.state.loaded;return React.createElement(SafeAreaProviderCompat,{__source:{fileName:_jsxFileName,lineNumber:100}},React.createElement(View,{style:styles.container,__source:{fileName:_jsxFileName,lineNumber:101}},React.createElement(ScreenContainer,{style:styles.pages,__source:{fileName:_jsxFileName,lineNumber:102}},routes.map(function(route,index){if(unmountInactiveScreens&&index!==state.index){return null;}if(lazy&&!loaded.includes(index)){return null;}var isFocused=state.index===index;return React.createElement(ResourceSavingScene,{key:route.key,style:StyleSheet.absoluteFill,isVisible:isFocused,__source:{fileName:_jsxFileName,lineNumber:116}},React.createElement(SceneContent,{isFocused:isFocused,__source:{fileName:_jsxFileName,lineNumber:121}},descriptors[route.key].render()));})),this.renderTabBar()));}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(nextProps,prevState){var index=nextProps.state.index;return{loaded:prevState.loaded.includes(index)?prevState.loaded:[].concat(_toConsumableArray(prevState.loaded),[index])};}}]);return BottomTabView;}(React.Component);BottomTabView.defaultProps={lazy:true};export{BottomTabView as default};var styles=StyleSheet.create({container:{flex:1,overflow:'hidden'},pages:{flex:1},content:{flex:1}});
//# sourceMappingURL=BottomTabView.js.map