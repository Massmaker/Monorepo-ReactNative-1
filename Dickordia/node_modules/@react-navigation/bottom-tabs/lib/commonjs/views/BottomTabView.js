var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");var _interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _toConsumableArray2=_interopRequireDefault(require("@babel/runtime/helpers/toConsumableArray"));var _defineProperty2=_interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));var _extends2=_interopRequireDefault(require("@babel/runtime/helpers/extends"));var _classCallCheck2=_interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));var _createClass2=_interopRequireDefault(require("@babel/runtime/helpers/createClass"));var _possibleConstructorReturn2=_interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));var _getPrototypeOf3=_interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));var _inherits2=_interopRequireDefault(require("@babel/runtime/helpers/inherits"));var React=_interopRequireWildcard(require("react"));var _reactNative=require("react-native");var _native=require("@react-navigation/native");var _reactNativeScreens=require("react-native-screens");var _SafeAreaProviderCompat=_interopRequireDefault(require("./SafeAreaProviderCompat"));var _ResourceSavingScene=_interopRequireDefault(require("./ResourceSavingScene"));var _BottomTabBar=_interopRequireDefault(require("./BottomTabBar"));var _jsxFileName="/Users/satya/Workspace/Projects/navigation-ex/packages/bottom-tabs/src/views/BottomTabView.tsx";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){(0,_defineProperty2.default)(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function SceneContent(_ref){var isFocused=_ref.isFocused,children=_ref.children;var _useTheme=(0,_native.useTheme)(),colors=_useTheme.colors;return React.createElement(_reactNative.View,{accessibilityElementsHidden:!isFocused,importantForAccessibility:isFocused?'auto':'no-hide-descendants',style:[styles.content,{backgroundColor:colors.background}],__source:{fileName:_jsxFileName,lineNumber:39}},children);}var BottomTabView=function(_React$Component){(0,_inherits2.default)(BottomTabView,_React$Component);function BottomTabView(){var _getPrototypeOf2;var _this;(0,_classCallCheck2.default)(this,BottomTabView);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=(0,_possibleConstructorReturn2.default)(this,(_getPrototypeOf2=(0,_getPrototypeOf3.default)(BottomTabView)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={loaded:[_this.props.state.index]};_this.renderTabBar=function(){var _this$props=_this.props,_this$props$tabBar=_this$props.tabBar,tabBar=_this$props$tabBar===void 0?function(props){return React.createElement(_BottomTabBar.default,(0,_extends2.default)({},props,{__source:{fileName:_jsxFileName,lineNumber:71}}));}:_this$props$tabBar,tabBarOptions=_this$props.tabBarOptions,state=_this$props.state,navigation=_this$props.navigation;var descriptors=_this.props.descriptors;var route=state.routes[state.index];var descriptor=descriptors[route.key];var options=descriptor.options;if(options.tabBarVisible===false){return null;}return tabBar(_objectSpread({},tabBarOptions,{state:state,descriptors:descriptors,navigation:navigation}));};return _this;}(0,_createClass2.default)(BottomTabView,[{key:"render",value:function render(){var _this$props2=this.props,state=_this$props2.state,descriptors=_this$props2.descriptors,lazy=_this$props2.lazy,unmountInactiveScreens=_this$props2.unmountInactiveScreens;var routes=state.routes;var loaded=this.state.loaded;return React.createElement(_SafeAreaProviderCompat.default,{__source:{fileName:_jsxFileName,lineNumber:100}},React.createElement(_reactNative.View,{style:styles.container,__source:{fileName:_jsxFileName,lineNumber:101}},React.createElement(_reactNativeScreens.ScreenContainer,{style:styles.pages,__source:{fileName:_jsxFileName,lineNumber:102}},routes.map(function(route,index){if(unmountInactiveScreens&&index!==state.index){return null;}if(lazy&&!loaded.includes(index)){return null;}var isFocused=state.index===index;return React.createElement(_ResourceSavingScene.default,{key:route.key,style:_reactNative.StyleSheet.absoluteFill,isVisible:isFocused,__source:{fileName:_jsxFileName,lineNumber:116}},React.createElement(SceneContent,{isFocused:isFocused,__source:{fileName:_jsxFileName,lineNumber:121}},descriptors[route.key].render()));})),this.renderTabBar()));}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(nextProps,prevState){var index=nextProps.state.index;return{loaded:prevState.loaded.includes(index)?prevState.loaded:[].concat((0,_toConsumableArray2.default)(prevState.loaded),[index])};}}]);return BottomTabView;}(React.Component);exports.default=BottomTabView;BottomTabView.defaultProps={lazy:true};var styles=_reactNative.StyleSheet.create({container:{flex:1,overflow:'hidden'},pages:{flex:1},content:{flex:1}});
//# sourceMappingURL=BottomTabView.js.map